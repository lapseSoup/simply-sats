# Review Checkpoint — 2026-02-16

**Scope:** Optional-password feature merge + BRC-100 module decomposition
**Rating:** 7/10
**Reviewer:** Claude Sonnet 4.5
**Full findings:** `REVIEW_FINDINGS.md` (Review #5 section)

## Issue Summary

| ID | Tier | Severity | File | Issue |
|----|------|----------|------|-------|
| S1 | 1 | CRITICAL | `useWalletLock.ts:171–187` | Passwordless unlock bypasses rate limiting and timing resistance |
| S2 | 1 | CRITICAL | `useAccountSwitching.ts:155–166` | Session password not cleared before account switch |
| B1 | 1 | CRITICAL | `brc100/actions.ts:365` | voutStr not validated — silent NaN targets wrong UTXO |
| B2 | 2 | CRITICAL | `ConnectedAppsContext.tsx:114–187` | Optimistic state revert races with renders |
| B3 | 2 | CRITICAL | `brc100/actions.ts:121–151` | Auto-approve path ambiguously uses Promise resolver |
| S6 | 1 | HIGH | `useWalletSend.ts:60–103` | Derived WIF map not zeroed after send |
| S3 | 3 | HIGH | `wallet/storage.ts:112–131` | Plaintext keys in OS keychain for passwordless wallets |
| S4 | 3 | HIGH | `accounts.ts:517–522` | No key rotation on password protection |
| S5 | 3 | HIGH | `rateLimiter.ts:20–30` | Rate-limiter fallback state lost on restart |
| B4 | 1 | HIGH | `AccountManageList.tsx:84,106,140,152,164` | Non-null assertion on optional account.id |
| B5 | 2 | HIGH | `brc100/listener.ts:44–232` | Async event handler lacks outer try/catch |
| B6 | 2 | HIGH | `brc100/actions.ts:183–208` | Stale keys in approveRequest |
| B7 | 1 | HIGH | `brc100/locks.ts:162–194` | Broadcast before DB save |
| A1 | 2 | HIGH | `brc100/actions.ts:72–608` | Entire BRC-100 switch duplicated in two functions |
| A2 | 3 | HIGH | `overlay.ts:508–528` | Memory leak in subscribeToTopic |
| A3 | 2 | HIGH | `brc100/actions.ts:354–414` | Re-entrancy risk in unlockBSV |
| A4 | 3 | MEDIUM | `brc100/listener.ts:69–83` | Wallet-required type list hardcoded |
| A5 | 3 | LOW | `actions.ts`, `listener.ts` | Two incompatible RequestManager adapters |
| S7 | 1 | MEDIUM | `useWalletLock.ts:107,237` | Missing useCallback dependency |
| Q1 | 3 | MEDIUM | `brc100/actions.ts:117,216,475` | `as unknown as T` bypasses type system |
| Q2 | 3 | MEDIUM | `locks.ts`, `outputs.ts`, `listener.ts` | LockedOutput construction duplicated 3× |
| Q3 | 3 | HIGH | BRC-100 core modules | No test coverage for actions, listener, locks, outputs |
| Q4 | 3 | LOW | `brc100/outputs.ts:26–33` | `Record<string, unknown>` return type |
| Q5 | 3 | LOW | `brc100/actions.ts:99–112` | Non-Error values in logger calls |
